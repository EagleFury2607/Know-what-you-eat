/* istanbul ignore next */"use strict";Object.defineProperty(exports, "__esModule", { value: true });var _jsxFileName = "/home/dedsec/exp/Know-what-you-eat/know-what-you-eat/src/components/History.js";var /* istanbul ignore next */_react = require("react"); /* istanbul ignore next */var _react2 = _interopRequireDefault(_react);
var /* istanbul ignore next */_axios = require("axios"); /* istanbul ignore next */var _axios2 = _interopRequireDefault(_axios);
var /* istanbul ignore next */_NavbarComponent = require("./NavbarComponent"); /* istanbul ignore next */var _NavbarComponent2 = _interopRequireDefault(_NavbarComponent);
/* istanbul ignore next */require("./css/history.css"); /* istanbul ignore next */function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
class History extends /* istanbul ignore next */_react. /* istanbul ignore next */Component {
  constructor(props) {
    super(props); /* istanbul ignore next */this.










    fetchHistory = () => {
      const jwt = localStorage.getItem("jwt");
      if (!jwt) {
        this.props.history.push("/login");
      }
      /* istanbul ignore next */_axios2. /* istanbul ignore next */default.get("/getHistory", {
        headers: {
          Authorization: `Bearer ${jwt}` },

        option: {
          "Access-Control-Allow-Origin": "*" } }).


      then(result => {
        this.setState({
          data: result.data[0][0].history });

        // console.log(this.state.data);
      }).
      catch(err => {
        console.log("ERR", err);
      });
    };this.state = { loading: false, data: [] };this.fetchHistory = this.fetchHistory.bind(this);}componentDidMount() {// console.log("Component is mounted !");
    this.fetchHistory();}render() {
    var printOut = "";
    if (this.state.data !== []) {
      console.log(this.state.data);
      printOut = this.state.data.map(function (data, id) {
        return (
          /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"div", /* istanbul ignore next */{ __source: { fileName: _jsxFileName, lineNumber: 47 }, __self: this },
            /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"li", /* istanbul ignore next */{ key: id, __source: { fileName: _jsxFileName, lineNumber: 48 }, __self: this }, /* istanbul ignore next */"Date: ",
              data.date,
              /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"br", /* istanbul ignore next */{ __source: { fileName: _jsxFileName, lineNumber: 50 }, __self: this }), /* istanbul ignore next */"Front Fruit: ",
              data.frontFruitName,
              /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"br", /* istanbul ignore next */{ __source: { fileName: _jsxFileName, lineNumber: 52 }, __self: this }), /* istanbul ignore next */"Side Fruit: ",
              data.sideFruitName,
              /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"br", /* istanbul ignore next */{ __source: { fileName: _jsxFileName, lineNumber: 54 }, __self: this }), /* istanbul ignore next */"Time Taken: ",
              data.time,
              /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"br", /* istanbul ignore next */{ __source: { fileName: _jsxFileName, lineNumber: 56 }, __self: this }), /* istanbul ignore next */"Calorie: ",
              data.calorie)));



      });
    }
    return (
      /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"div", /* istanbul ignore next */{ __source: { fileName: _jsxFileName, lineNumber: 64 }, __self: this },
        /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_NavbarComponent2. /* istanbul ignore next */default, /* istanbul ignore next */{ userLogginStatus: "Logout", __source: { fileName: _jsxFileName, lineNumber: 65 }, __self: this }),
        /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"h1", /* istanbul ignore next */{ __source: { fileName: _jsxFileName, lineNumber: 66 }, __self: this }, /* istanbul ignore next */"HISTORY"),
        /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"div", /* istanbul ignore next */{
            id: "showData",
            style: {
              display: "flex",
              alignItems: "center",
              flexDirection: "column" }, __source: { fileName: _jsxFileName, lineNumber: 67 }, __self: this },


          /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"div", /* istanbul ignore next */{ className: "list-type1", __source: { fileName: _jsxFileName, lineNumber: 75 }, __self: this },
            /* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */"ol", /* istanbul ignore next */{ __source: { fileName: _jsxFileName, lineNumber: 76 }, __self: this }, printOut)))));




  }} /* istanbul ignore next */exports.default =


History;